# Database Configuration - Bolna.ai Migration Database
DATABASE_URL=postgresql://neondb_owner:npg_d6qDxYFghA0J@ep-morning-pond-a1v4ecll-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require

# Bolna.ai API Configuration
BOLNA_API_KEY=bn-82703f35520043f6bfea9dd0d5596a8b
BOLNA_WEBHOOK_SECRET=your_bolna_webhook_secret_here
BOLNA_BASE_URL=https://api.bolna.ai

# OpenAI Response API Configuration
# Get your API key from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-xxx...

# OpenAI Prompt IDs (create in https://platform.openai.com/prompts)
# Individual Analysis: Extracts data from single call transcript
OPENAI_INDIVIDUAL_PROMPT_ID=pmpt_68de2bd80fa08196ab95184e7787c6e30c231f4a29f082a0

# Complete Analysis: Aggregates insights across all historical calls
OPENAI_COMPLETE_PROMPT_ID=pmpt_abc123def456ghi789jkl012mno345pqr678stu901vwx234

# OpenAI API Configuration (optional overrides - usually set in prompt itself)
OPENAI_MODEL=gpt-4o-2024-08-06
OPENAI_TIMEOUT=30000

# Legacy ElevenLabs Configuration (for reference/rollback)
# ELEVENLABS_API_KEY=your_elevenlabs_api_key_here
# ELEVENLABS_WEBHOOK_SECRET=your_elevenlabs_webhook_secret_here
# ELEVENLABS_BASE_URL=https://api.elevenlabs.io

# Stripe Payment Configuration
STRIPE_SECRET_KEY=your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=your_stripe_webhook_secret

# Email Configuration (ZeptoMail)
ZEPTOMAIL_HOST=smtp.zeptomail.in
ZEPTOMAIL_PORT=587
ZEPTOMAIL_USER=emailapikey
ZEPTOMAIL_PASSWORD=your_zeptomail_api_password
EMAIL_FROM=noreply@sniperthink.com

# Social Login Configuration
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
LINKEDIN_CLIENT_ID=your_linkedin_client_id
LINKEDIN_CLIENT_SECRET=your_linkedin_client_secret

# Application Configuration
NODE_ENV=development
PORT=3000
HOST=localhost

# Call Campaign Configuration
# System-wide concurrent call limit (applies to ALL users combined)
# This prevents system overload by limiting total concurrent calls across all campaigns
SYSTEM_CONCURRENT_CALLS_LIMIT=10

# Default per-user concurrent call limit (used when user.concurrent_calls_limit is NULL)
# Individual users can have custom limits set in the database
DEFAULT_USER_CONCURRENT_CALLS_LIMIT=2

# Queue processor interval (in milliseconds)
# How often the queue processor checks for new calls to initiate
QUEUE_PROCESSOR_INTERVAL=10000

# Connection Pool Configuration
# Maximum connections allowed in the pool (Neon supports up to 100)
MAX_POOL_CONNECTIONS=100
# Base connections to maintain when campaigns or users are active
POOL_BASE_CONNECTIONS=11

# Frontend Configuration
# Add your production website URL here
FRONTEND_URL=http://localhost:8080
WEBHOOK_BASE_URL=http://localhost:3000

# CORS Configuration
# Add your production website URL here to avoid CORS errors
CORS_ORIGIN=http://localhost:8080
CORS_CREDENTIALS=true
CORS_METHODS=GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With,Accept,Origin,X-CSRF-Token

# Security Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
SESSION_SECRET=your-session-secret-key-change-this

# API Configuration
API_RATE_LIMIT=1000
API_TIMEOUT=30000

# Logging Configuration
LOG_LEVEL=debug
DEBUG_MODE=true
ENABLE_REQUEST_LOGGING=true

## Serverless/Platform Configuration
# Set to true on serverless platforms (Railway) to allow DB pool to drain after inactivity
SERVERLESS=true
# Optional: Set default DB session timezone (used for every connection)
DB_TIMEZONE=Asia/Kolkata

## Campaign Scheduler Configuration (In-Memory Smart Scheduling)
# Replaces polling queue processor to reduce Neon database compute hours
# The scheduler calculates when to wake database based on campaign windows
# Database sleeps between scheduled wake times (60-70% compute savings)
ENABLE_IN_MEMORY_SCHEDULER=true

# Scheduled Tasks
# Globally enable/disable background scheduled tasks (email reminders, credit checks, etc.)
# If explicitly set to false, disables all tasks regardless of per-task flags.
# If unset, per-task flags decide; defaults are safe for serverless.
# ENABLE_SCHEDULED_TASKS=false

# Per-task toggles (granular control)
# Email verification reminders
EMAIL_VERIFICATION_REMINDER_ENABLED=false
EMAIL_VERIFICATION_REMINDER_RUN_ON_STARTUP=false

# Low credits notifications (daily sweep)
LOW_CREDITS_NOTIFICATIONS_ENABLED=false
LOW_CREDITS_NOTIFICATIONS_RUN_ON_STARTUP=false

# Event-driven email toggles
# Send an email to the user when credits are added (admin adjustment or purchase)
EMAIL_CREDITS_ADDED_ENABLED=true

# Send a campaign summary email when a campaign completes (best-effort, event-driven)
# Includes top hot leads inline and attaches a CSV if available
EMAIL_CAMPAIGN_SUMMARY_ENABLED=false